# Numerical Analysis and Practical Evaluation Outputs

This folder contains the simulation outputs requested in the "Numerical Analysis and Practical Evaluation" section.

## Produced figures

Figures are generated by the runner but are intentionally **not committed** (PNG files) to keep PRs lightweight and avoid binary-asset review issues.

Expected local outputs after running:
- `figure_n1_synthetic.png`
- `figure_n2_sp500.png`
- `figure_n2_btc.png`
- `figure_n3_sp500.png`
- `figure_n3_btc.png`

## Produced tables / CSV exports

- Headline summary for all compared strategies on both assets: `headline_summary.csv`
  - Includes both raw metrics and DCA-budget-normalized metrics (`*_budget_norm`) plus terminal wealth (`V`, `V_budget_norm`).
- BTC headline table (Table N1 equivalent): `table_n1_btc_2017_2023.csv`
- S&P500 5-year block ROI: `sp500_subperiod_roi.csv`
- BTC 1-year block ROI: `btc_subperiod_roi.csv`
- Fraction of blocks beating DCA: `beat_dca_fraction.csv`
- Moment-tilt ablation (BTC): `ablation_moment_tilt_btc.csv`
- Adaptive-kappa ablation (BTC): `ablation_adaptive_kappa_btc.csv`

## Selected best extension settings on BTC (train/validation split)

- Best moment-tilted setting: `rho=2`, `xi=3`, `lambda=0.75`
- Best adaptive-rho setting: `W=90`, `rho_max=2`, `kappa=0.5`

(Stored in machine-readable form in `run_metadata.json`.)

## Validity notes applied in this revision

1. **Comparability under equal total capital (`C`)**
   - The report now publishes terminal wealth `V=Q\,p_T` and DCA-budget-normalized metrics for every strategy.
   - Budget normalization rescales each strategy contribution path by a constant factor so `C` matches DCA on the same asset while preserving timing profile.
   - This makes side-by-side comparisons fair for readers who expect a common contribution budget.

2. **S&P500 horizon consistency**
   - S&P500 block generation now strictly uses the 1973â€“2023 horizon.
   - The prior trailing `2023-2024` block was removed to match the stated study window.

## Re-run command

```bash
python results/numerical_analysis/run_numerical_analysis.py
```
